{"version":3,"sources":["api/pixabay.js","components/Header/Header.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/LoadMoreButton/LoadMoreButton.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["search","q","page","axios","get","params","per_page","key","image_type","orientation","Header","useState","query","setQuery","className","onSubmit","e","preventDefault","type","onChange","target","value","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","onClick","src","webformatURL","alt","tags","ImageGallery","images","map","id","LoadMoreButton","handleLoadMore","disabled","Modal","onClose","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","event","currentTarget","largeImageURL","App","showModal","loading","imageId","state","setState","find","then","response","data","hits","color","height","width","timeout","length","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4b5e560c.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst IMAGES_PER_PAGE = 12;\r\nconst PIXABAY_KEY = '22740436-05bbd607dbbc32bdc3528cde5';\r\nconst PIXABAY_URL = 'https://pixabay.com/api';\r\n\r\nexport const search = (q, page) => {\r\n  return axios\r\n    .get(PIXABAY_URL, {\r\n      params: {\r\n        q,\r\n        page,\r\n        per_page: IMAGES_PER_PAGE,\r\n        key:  PIXABAY_KEY,\r\n        image_type: 'photo',\r\n        orientation: 'horizontal'\r\n      }\r\n    })\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nconst Header = ({ search }) => {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()   \r\n    \r\n    search(query);\r\n  }\r\n\r\n  const onInputChange = ({ target }) => {\r\n    setQuery(target.value)\r\n  }\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\"  onSubmit={onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={onInputChange}\r\n          value={query}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => (\r\n  <li className=\"ImageGalleryItem\" onClick={onClick}>\r\n    <img src={image.webformatURL} alt={image.tags} className=\"ImageGalleryItem-image\" />\r\n    \r\n  </li> \r\n)\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, onClick }) => (  \r\n  <ul className=\"ImageGallery\">\r\n    {\r\n      images.map(image => (\r\n        <ImageGalleryItem image={image} key={image.id} onClick={onClick(image.id)}/>\r\n      ))\r\n    }\r\n  </ul>\r\n)\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\n\r\n\r\nconst LoadMoreButton = ({ handleLoadMore, disabled }) => (    \r\n  <button\r\n    type='button'\r\n    className='Button'\r\n    onClick={handleLoadMore}\r\n    disabled={disabled}\r\n  >\r\n    Load more\r\n  </button>\r\n)\r\n\r\nexport default LoadMoreButton;\r\n","import React, { useEffect } from 'react';\r\n\r\n\r\nconst Modal = ({ image, onClose }) => { \r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    \r\n    // returned function will be called on component unmount \r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\r\n      <div className=\"Modal\">\r\n        <img src={image.largeImageURL} alt={image.tags} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;","import React, { useState } from 'react';\nimport Loader from \"react-loader-spinner\";\n\nimport { search } from './api/pixabay'\n\nimport Header from './components/Header/Header';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport LoadMoreButton from './components/LoadMoreButton/LoadMoreButton';\nimport Modal from './components/Modal/Modal';\n\n\nimport './App.css';\n\n\nconst App = () => {\n  const [state, setState] = useState({\n    images: [],\n    showModal: false,\n    query: '',\n    page: 1,\n    loading: false,\n    imageId: null,\n  });\n\n  const handleSearch = (query) => {\n    setState({\n      ...state,\n      loading: true,\n    })\n\n    search(query, 1)\n      .then(response => setState({\n        ...state,\n        images: response.data.hits,\n        page: 2,\n        query,\n        loading: false,\n      })\n    );\n  }\n\n  const handleLoadMore = () => {\n    setState({\n      ...state,\n      loading: true,\n    })\n    search(state.query, state.page)\n      .then(response => {\n        setState({\n          ...state,\n          images: [...state.images, ...response.data.hits],\n          page: state.page + 1,\n          loading: false,\n        })\n        \n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      }\n    );\n  }\n\n  const openModal = (imageId) => () => {\n    setState({\n      ...state,\n      showModal: true,\n      imageId,\n    })\n  }\n\n  const closeModal = () => {\n    setState({\n      ...state,\n      showModal: false,\n      imageId: null,\n    })\n  }\n\n  const { images, showModal, imageId } = state;\n  const image = images.find(image => image.id === imageId);\n  \n  return(\n    <div>        \n      {showModal && (<Modal onClose={closeModal} image={image}></Modal>\n      )}\n      <Header search={handleSearch}/>\n      <ImageGallery images={images} onClick={openModal} />\n      {\n        state.loading === true && (\n          <div className='loader'>\n            <Loader\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs\n              />\n          </div>\n        )\n      }\n      {\n        state.images.length !== 0 && (\n          <LoadMoreButton handleLoadMore={handleLoadMore} disabled={state.loading} />\n        )\n      }\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}