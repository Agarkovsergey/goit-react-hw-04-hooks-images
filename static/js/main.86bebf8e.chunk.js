(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(18),i=a.n(o),r=a(9),s=a(4),l=a(7),d=a(19),u=a.n(d),b=a(20),j=a.n(b).a.create({baseURL:"https://pixabay.com/api"}),m=function(e,t){return j.get("?q=".concat(e,"&page=").concat(t,"&key=").concat("22740436-05bbd607dbbc32bdc3528cde5","&image_type=photo&orientation=horizontal&per_page=12"))},g=a(1),h=function(e){var t=e.search,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1];return Object(g.jsx)("header",{className:"Searchbar",children:Object(g.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(g.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(g.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(g.jsx)("input",{onChange:function(e){var t=e.target;i(t.value)},value:o,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},O=function(e){var t=e.image,a=e.onClick;return Object(g.jsx)("li",{className:"ImageGalleryItem",onClick:a,children:Object(g.jsx)("img",{src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image"})})},f=function(e){var t=e.images,a=e.onClick;return Object(g.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(g.jsx)(O,{image:e,onClick:a(e.id)},e.id)}))})},p=function(e){var t=e.handleLoadMore,a=e.disabled;return Object(g.jsx)("button",{type:"button",className:"Button",onClick:t,disabled:a,children:"Load more"})},x=function(e){var t=e.image,a=e.onClose,c=function(e){"Escape"===e.code&&a()};return Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[]),Object(g.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&a()},children:Object(g.jsx)("div",{className:"Modal",children:Object(g.jsx)("img",{src:t.largeImageURL,alt:t.tags})})})},v=(a(64),function(){var e=Object(n.useState)({images:[],showModal:!1,query:"",page:1,loading:!1,imageId:null}),t=Object(l.a)(e,2),a=t[0],c=t[1],o=a.images,i=a.showModal,d=a.imageId,b=o.find((function(e){return e.id===d}));return Object(g.jsxs)("div",{children:[i&&Object(g.jsx)(x,{onClose:function(){c(Object(s.a)(Object(s.a)({},a),{},{showModal:!1,imageId:null}))},image:b}),Object(g.jsx)(h,{search:function(e){c(Object(s.a)(Object(s.a)({},a),{},{loading:!0})),m(e,1).then((function(t){return c(Object(s.a)(Object(s.a)({},a),{},{images:t.data.hits,page:2,query:e,loading:!1}))}))}}),Object(g.jsx)(f,{images:o,onClick:function(e){return function(){c(Object(s.a)(Object(s.a)({},a),{},{showModal:!0,imageId:e}))}}}),!0===a.loading&&Object(g.jsx)("div",{className:"loader",children:Object(g.jsx)(u.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}),0!==a.images.length&&Object(g.jsx)(p,{handleLoadMore:function(){c(Object(s.a)(Object(s.a)({},a),{},{loading:!0})),m(a.query,a.page).then((function(e){c(Object(s.a)(Object(s.a)({},a),{},{images:[].concat(Object(r.a)(a.images),Object(r.a)(e.data.hits)),page:a.page+1,loading:!1})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},disabled:a.loading})]})});i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.86bebf8e.chunk.js.map